<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—°ì•  ì„¸í¬ ë ˆë²¨ í…ŒìŠ¤íŠ¸ ê²°ê³¼ | The Duck Lab</title>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9076819245720802" crossorigin="anonymous"></script>
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #f5f5f5; margin: 0; padding: 0; display: flex; justify-content: center; min-height: 100vh; color: #333; }
        .container { width: 100%; max-width: 600px; background: white; min-height: 100vh; padding: 30px 20px; box-sizing: border-box; text-align: center; display: flex; flex-direction: column; align-items: center; }
        .result-subtitle { color: #E91E63; font-size: 1rem; margin-bottom: 10px; font-weight: bold; }
        .result-title { font-size: 1.8rem; font-weight: 900; margin: 0 0 30px 0; color: #222; word-break: keep-all; }
        .result-box { width: 100%; max-width: 350px; padding: 40px 20px; background-color: #FCE4EC; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .result-icon { font-size: 5rem; margin-bottom: 20px; display: block; }
        .result-desc { background: #fff0f5; padding: 20px; border-radius: 12px; text-align: left; line-height: 1.6; font-size: 0.95rem; margin-bottom: 30px; width: 100%; box-sizing: border-box; color: #444; border: 1px solid #ffcdd2; }
        .desc-title { font-weight: 800; font-size: 1.1rem; margin-bottom: 10px; display: block; color: #D81B60; }
        
        /* ê¶í•© ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .match-container { display: flex; gap: 10px; width: 100%; margin-bottom: 30px; }
        .match-box { flex: 1; padding: 15px; border-radius: 12px; text-align: center; }
        .match-good { background-color: #FCE4EC; border: 1px solid #F8BBD0; }
        .match-bad { background-color: #ECEFF1; border: 1px solid #CFD8DC; }
        .match-title { display: block; font-size: 0.8rem; font-weight: bold; margin-bottom: 5px; color: #555; }
        .match-type { font-weight: 900; font-size: 1.1rem; color: #222; }

        .btn-group { width: 100%; display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px; }
        .btn { padding: 18px; border-radius: 12px; font-weight: 800; font-size: 1.1rem; cursor: pointer; border: none; width: 100%; transition: transform 0.1s; }
        .btn:active { transform: scale(0.98); }
        .kakao-btn { background-color: #FEE500; color: #3c1e1e; }
        .retry-btn { background-color: #333; color: white; }
        .home-btn { background-color: white; border: 2px solid #eee; color: #666; }
        .ad-area { width: 100%; background: #fafafa; border: 1px dashed #ddd; padding: 20px; border-radius: 12px; box-sizing: border-box; margin-bottom: 20px; color: #ccc; font-size: 0.8rem; }
    </style>
</head>
<body>
    <div class="container">
        <p class="result-subtitle">ë‚˜ì˜ ì—°ì•  ì„¸í¬ ë ˆë²¨ì€?</p>
        <h1 class="result-title" id="resultTitle">ê²°ê³¼ ë¶„ì„ ì¤‘...</h1>
        <div class="result-box" id="resultBox"><span class="result-icon" id="resultIcon">ğŸ’˜</span></div>
        <div class="result-desc">
            <span class="desc-title">ğŸ’Œ ì—°ì•  ìŠ¤íƒ€ì¼</span>
            <p id="resultDesc">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
        </div>

        <div class="match-container">
            <div class="match-box match-good">
                <span class="match-title">ìš´ëª…ì˜ ì§ê¿ ğŸ’•</span>
                <span class="match-type" id="bestMatch">???</span>
            </div>
            <div class="match-box match-bad">
                <span class="match-title">íŒŒêµ­ì´ë‹¤.. ğŸ’”</span>
                <span class="match-type" id="worstMatch">???</span>
            </div>
        </div>

        <div class="btn-group">
            <button class="btn kakao-btn" onclick="shareResult()">ì¹´ì¹´ì˜¤í†¡ ê³µìœ í•˜ê¸°</button>
            <button class="btn retry-btn" onclick="location.href='loveintro.html'">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œí•˜ê¸°</button>
            <button class="btn home-btn" onclick="location.href='index.html'">ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ë³´ëŸ¬ê°€ê¸°</button>
        </div>
        <div class="ad-area">ğŸ’¸ ê´‘ê³  ì˜ì—­ ğŸ’¸</div>
    </div>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const mbti = urlParams.get('mbti');
        // ë°ì´í„°ì— best, worst ì¶”ê°€
        const resultData = {
            "ISTJ": { title: "ì² ë²½ ìˆ˜ë¹„ ëŒ€ì¥\n'ìœ êµê±¸/ìœ êµë³´ì´'", icon: "ğŸ›¡ï¸", desc: "ì±…ì„ê° ê°•í•˜ê³  ì‹ ë¢° 1ë“±. í•œ ë²ˆ ì‚¬ê·€ë©´ ê²°í˜¼ê¹Œì§€ ìƒê°í•˜ëŠ” ì§„êµ­.", best: "ESFP", worst: "ENFP" },
            "ISFJ": { title: "í—Œì‹ ì ì¸ ì‚¬ë‘ê¾¼\n'ë‚´ì¡°ì˜ ì—¬ì™•/ì™•'", icon: "ğŸ", desc: "ê¸°ë…ì¼ ë‹¤ ê¸°ì–µí•¨. í¼ì£¼ë‹¤ê°€ ìƒì²˜ë°›ê¸° ì‰¬ì›€.", best: "ESFP", worst: "ENTP" },
            "INFJ": { title: "ìš´ëª…ì„ ë¯¿ëŠ”\n'ë¡œë§¨í‹± ì˜ˆì–¸ê°€'", icon: "ğŸ”®", desc: "ì˜í˜¼ì˜ ë‹¨ì§ì„ ê¸°ë‹¤ë¦¼. ê²‰ì€ ì°¨ê°€ì›Œ ë³´ì—¬ë„ ì†ì€ ìš©ê´‘ë¡œ.", best: "ENTP", worst: "ESTP" },
            "INTJ": { title: "ì—°ì• ë„ ë¶„ì„í•˜ëŠ”\n'ì•ŒíŒŒê³  ë¡œë§¨ìŠ¤'", icon: "ğŸ¤–", desc: "ì¸ íƒˆ ë•Œë„ ì—‘ì…€ ëŒë ¤ì„œ í™•ë¥  ê³„ì‚°í•¨. ë°°ìš¸ ì  ìˆëŠ” ì‚¬ëŒ ì¢‹ì•„í•¨.", best: "ENFP", worst: "ESFP" },
            "ISTP": { title: "ê·€ì°®ì€ ê±´ ì§ˆìƒ‰\n'ë§ˆì´ì›¨ì´ ì—°ì• '", icon: "ğŸ˜¼", desc: "êµ¬ì† ì‹«ì–´í•¨. í˜¼ìë§Œì˜ ì‹œê°„ í•„ìˆ˜. í‘œí˜„ì€ ì„œíˆ´ëŸ¬ë„ í–‰ë™íŒŒ.", best: "ESFJ", worst: "ENFJ" },
            "ISFP": { title: "ì¹¨ëŒ€ ë°–ì€ ìœ„í—˜í•´\n'ì§‘ì½• ì—°ì• ëŸ¬'", icon: "ğŸ›Œ", desc: "ì—°ë½ ê·€ì°®ì•„í•¨. ê·¼ë° ë§Œë‚˜ë©´ ì„¸ìƒ ë‹¤ì •í•¨. ê°ˆë“± ìƒê¸°ë©´ ìˆ¨ì–´ë²„ë¦¼.", best: "ESTJ", worst: "ENTJ" },
            "INFP": { title: "ë§ìƒ ì† ì£¼ì¸ê³µ\n'ë¹„ë ¨ì˜ ì—¬ì£¼/ë‚¨ì£¼'", icon: "ğŸ˜¿", desc: "ë¡œë§¨ìŠ¤ ì˜í™” ì°ëŠ” ì¤‘. ì‚¬ì†Œí•œ ë§ì— ì˜ë¯¸ ë¶€ì—¬í•˜ê³  ë°¤ìƒ˜.", best: "ENFJ", worst: "ESTJ" },
            "INTP": { title: "ì—°ì•  ì„¸í¬ ë™ë©´ ì¤‘\n'ë¬´ì„±ìš•ì?'", icon: "ğŸ’¤", desc: "í˜¼ìê°€ í¸í•¨. ì§€ì ì¸ ëŒ€í™” í†µí•˜ëŠ” ì‚¬ëŒ ì•„ë‹ˆë©´ ê´€ì‹¬ ì—†ìŒ.", best: "ENTJ", worst: "ESFJ" },
            "ESTP": { title: "ì§ì§„ ë³¸ëŠ¥\n'ë¶ˆë„ì €'", icon: "ğŸï¸", desc: "ë§˜ì— ë“¤ë©´ ë°”ë¡œ ë“¤ì´ëŒ. ìŠ¤í‚¨ì‹­ ì§„ë„ ë¹ ë¦„. ì§€ë£¨í•œ ê±° ëª» ì°¸ìŒ.", best: "ISFJ", worst: "INFJ" },
            "ESFP": { title: "ë¼ìŸì´ í”ŒëŸ¬íŒ… ì¥ì¸\n'ê¸ˆì‚¬ë¹ '", icon: "ğŸ˜˜", desc: "ë¶„ìœ„ê¸°ì— ì·¨í•´ ì‚¬ë‘ì— ì˜ ë¹ ì§. ì• ì • í‘œí˜„ 200%.", best: "ISTJ", worst: "INTJ" },
            "ENFP": { title: "ì¸ê°„ ë¦¬íŠ¸ë¦¬ë²„\n'ëŒ•ëŒ•ì´ ìŠ¤íƒ€ì¼'", icon: "ğŸ¶", desc: "ì• êµ ë§ê³  ì¹˜ëŒ. ì‚ì ¸ë„ ê¸ˆë°© í’€ë¦¼. ì½©ê¹ì§€ ì”Œì´ë©´ ë‹¤ í¼ì¤Œ.", best: "INTJ", worst: "ISTJ" },
            "ENTP": { title: "ì¸ë„ ê²Œì„ì²˜ëŸ¼\n'ë‚˜ìœ ë‚¨ì/ì—¬ì'", icon: "ğŸ˜ˆ", desc: "í‹°í‚¤íƒ€ì¹´ ì¤‘ìš”í•¨. ë…¼ìŸí•˜ê³  ì¥ë‚œì¹˜ëŠ” ê±° ì¢‹ì•„í•¨.", best: "INFJ", worst: "ISFJ" },
            "ESTJ": { title: "ì—°ì• ë„ ë¦¬ë“œí•œë‹¤\n'ëŒ€ì¥ë‹˜'", icon: "ğŸ‘‘", desc: "ë°ì´íŠ¸ ì½”ìŠ¤ ì™„ë²½ ê³„íš. ë‹µë‹µí•œ ê±° ëª» ì°¸ìŒ. ì• ì¸ ì¸ìƒê¹Œì§€ ê´€ë¦¬í•¨.", best: "ISFP", worst: "INFP" },
            "ESFJ": { title: "ì‚¬ë‘ë‘¥ì´\n'í•µì¸ì‹¸ ì• ì¸'", icon: "ğŸ¥°", desc: "ì¹œêµ¬ë“¤í•œí…Œ ì• ì¸ ìë‘í•¨. ë¦¬ì•¡ì…˜ ë¶€ì. ë‚´ ì‚¬ëŒ ê±´ë“œë¦¬ë©´ ëª» ì°¸ìŒ.", best: "ISTP", worst: "INTP" },
            "ENFJ": { title: "ë‹¤ì •í•¨ ì¹˜ì‚¬ëŸ‰\n'ëŒ€í˜•ê²¬'", icon: "ğŸ•", desc: "ìƒëŒ€ë°© ë©˜íƒˆ ì¼€ì–´ ì „ë¬¸. ì‚¬ë‘ë°›ê³  ì‹¶ì–´ í•¨. í—¤ì–´ì§€ë©´ í›„ìœ ì¦ í¼.", best: "INFP", worst: "ISTP" },
            "ENTJ": { title: "ì•¼ë§ ìˆëŠ” ì»¤í”Œ\n'ì‡¼ìœˆë„ ë¶€ë¶€?'", icon: "ğŸ’", desc: "ëŠ¥ë ¥ ìˆëŠ” ì‚¬ëŒ ì¢‹ì•„í•¨. ê°™ì´ ì„±ì¥í•˜ëŠ” ì—°ì•  ì¶”êµ¬. ì¼í•˜ëŠë¼ ë°”ì¨.", best: "INTP", worst: "ISFP" }
        };
        Kakao.init('f68bf1f1c632b1b62c625afe72e43b1d'); 
        function updateResult() {
            let type = mbti ? mbti.toUpperCase() : "ENFP"; 
            if(!resultData[type]) type = "ENFP";
            const data = resultData[type];
            document.getElementById('resultTitle').innerText = data.title;
            document.getElementById('resultIcon').innerText = data.icon;
            document.getElementById('resultDesc').innerText = data.desc;
            document.getElementById('bestMatch').innerText = data.best;
            document.getElementById('worstMatch').innerText = data.worst;
        }
        function shareResult() {
            let type = mbti ? mbti.toUpperCase() : "ENFP";
            const data = resultData[type];
            Kakao.Share.sendDefault({
                objectType: 'feed',
                content: {
                    title: 'ë‚˜ì˜ ì—°ì•  ì„¸í¬ ë ˆë²¨ì€?',
                    description: data.title.replace('\n', ' ') + ' | ìš´ëª…ì˜ ì§ê¿: ' + data.best,
                    imageUrl: 'https://theduck-lab.com/logo.png', 
                    link: { mobileWebUrl: window.location.href, webUrl: window.location.href },
                },
                buttons: [{ title: 'ê²°ê³¼ ë³´ê¸°', link: { mobileWebUrl: window.location.href, webUrl: window.location.href } }]
            });
        }
        updateResult();
    </script>
</body>
</html>
