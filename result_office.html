<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì§ì¥ì¸ ìƒì¡´ ìœ í˜• í…ŒìŠ¤íŠ¸ ê²°ê³¼ | The Duck Lab</title>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9076819245720802" crossorigin="anonymous"></script>

    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #f5f5f5; margin: 0; padding: 0; display: flex; justify-content: center; min-height: 100vh; color: #333; }
        .container { width: 100%; max-width: 600px; background: white; min-height: 100vh; padding: 30px 20px; box-sizing: border-box; text-align: center; display: flex; flex-direction: column; align-items: center; }
        
        /* ê²°ê³¼ ì œëª© */
        .result-subtitle { color: #666; font-size: 1rem; margin-bottom: 10px; font-weight: bold; }
        .result-title { font-size: 1.8rem; font-weight: 900; margin: 0 0 30px 0; color: #222; word-break: keep-all; }

        /* ê²°ê³¼ ì´ë¯¸ì§€/ë°•ìŠ¤ */
        .result-box { 
            width: 100%; 
            max-width: 350px; 
            padding: 40px 20px; 
            background-color: #E3F2FD; /* ê¸°ë³¸ íŒŒë‘ */
            border-radius: 20px; 
            margin-bottom: 30px; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        .result-icon { font-size: 5rem; margin-bottom: 20px; display: block; }
        
        /* ì„¤ëª…ê¸€ */
        .result-desc { 
            background: #f9f9f9; 
            padding: 20px; 
            border-radius: 12px; 
            text-align: left; 
            line-height: 1.6; 
            font-size: 0.95rem; 
            margin-bottom: 30px; 
            width: 100%; 
            box-sizing: border-box; 
            color: #444;
        }
        .desc-title { font-weight: 800; font-size: 1.1rem; margin-bottom: 10px; display: block; color: #333; }

        /* ë²„íŠ¼ë“¤ */
        .btn-group { width: 100%; display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px; }
        .btn { 
            padding: 18px; 
            border-radius: 12px; 
            font-weight: 800; 
            font-size: 1.1rem; 
            cursor: pointer; 
            border: none; 
            width: 100%; 
            transition: transform 0.1s; 
        }
        .btn:active { transform: scale(0.98); }
        
        .kakao-btn { background-color: #FEE500; color: #3c1e1e; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .retry-btn { background-color: #333; color: white; }
        .home-btn { background-color: white; border: 2px solid #eee; color: #666; }

        /* ê´‘ê³  ì˜ì—­ */
        .ad-area { width: 100%; background: #fafafa; border: 1px dashed #ddd; padding: 20px; border-radius: 12px; box-sizing: border-box; margin-bottom: 20px; color: #ccc; font-size: 0.8rem; }
    </style>
</head>
<body>
    <div class="container">
        <p class="result-subtitle">ë‚˜ì˜ ì§ì¥ì¸ ìƒì¡´ ìœ í˜•ì€?</p>
        <h1 class="result-title" id="resultTitle">ê²°ê³¼ ë¶„ì„ ì¤‘...</h1>

        <div class="result-box" id="resultBox">
            <span class="result-icon" id="resultIcon">â³</span>
        </div>

        <div class="result-desc">
            <span class="desc-title">ğŸ“ ìœ í˜• íŠ¹ì§•</span>
            <p id="resultDesc">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
        </div>

        <div class="btn-group">
            <button class="btn kakao-btn" onclick="shareResult()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M12 3C6.477 3 2 6.646 2 11.143C2 13.985 3.799 16.48 6.514 17.925C6.355 18.529 5.867 20.375 5.808 20.668C5.703 21.189 6.273 21.464 6.648 21.143L11.96 17.03C11.973 17.03 11.987 17.03 12 17.03C17.523 17.03 22 13.384 22 8.887C22 4.39 17.523 3 12 3Z" fill="#3C1E1E"/></svg>
                ê²°ê³¼ ê³µìœ í•˜ê³  ì¹œêµ¬ ë°˜ì‘ ë³´ê¸°
            </button>
            <button class="btn retry-btn" onclick="location.href='officeintro.html'">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œí•˜ê¸°</button>
            <button class="btn home-btn" onclick="location.href='index.html'">ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ë³´ëŸ¬ê°€ê¸°</button>
        </div>

        <div class="ad-area">ğŸ’¸ ê´‘ê³  ì˜ì—­ ğŸ’¸</div>
    </div>

    <script>
        // 1. URLì—ì„œ mbti ê°’ ê°€ì ¸ì˜¤ê¸° (?mbti=ESTJ)
        const urlParams = new URLSearchParams(window.location.search);
        const mbti = urlParams.get('mbti');

        // 2. ê²°ê³¼ ë°ì´í„° (16ê°€ì§€ ìœ í˜• ë©˜íŠ¸)
        const resultData = {
            "ISTJ": { title: "í•œ ì¹˜ì˜ ì˜¤ì°¨ë„ ì—†ëŠ”\n'ì¸ê°„ ì—‘ì…€'", icon: "ğŸ¤–", color: "#E3F2FD", desc: "ì‹œí‚¤ëŠ” ì¼ì€ ì™„ë²½í•˜ê²Œ í•´ë‚´ëŠ” ëª¨ë²”ìƒ! í•˜ì§€ë§Œ ìœµí†µì„± ì—†ëŠ” ê¼°ëŒ€ ì†Œë¦¬ ë“¤ì„ ìˆ˜ë„? ê³„íšì´ í‹€ì–´ì§€ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ìŒ." },
            "ISFJ": { title: "ëª¨ë‘ê°€ ì¢‹ì•„í•˜ëŠ”\n'ìˆ˜í˜¸ì²œì‚¬'", icon: "ğŸ‘¼", color: "#FCE4EC", desc: "ê±°ì ˆì„ ëª» í•´ì„œ ì¼ì´ ëª°ë¦¬ëŠ” íƒ€ì…. ë’¤ì—ì„œ ë¬µë¬µíˆ ì±™ê²¨ì£¼ëŠ” ì—„ë§ˆ ê°™ì€ ì¡´ì¬. ì°©í•˜ë‹¤ëŠ” ì†Œë¦¬ ì§€ê²¹ê²Œ ë“¤ìŒ." },
            "INFJ": { title: "ì†ì„ ì•Œ ìˆ˜ ì—†ëŠ”\n'ë¯¸ìŠ¤í…Œë¦¬ ì˜ˆì–¸ê°€'", icon: "ğŸ”®", color: "#F3E5F5", desc: "ê²‰ìœ¼ë¡œëŠ” ì›ƒì§€ë§Œ ì†ìœ¼ë¡œëŠ” ì¸ë¥˜ì•  ìƒì‹¤ ì¤‘. í†µì°°ë ¥ì´ ì¢‹ì•„ì„œ ìƒì‚¬ ë’·ë‹´í™”í•  ë•Œ í•µì‹¬ì„ ì°Œë¦„. ì¡°ìš©íˆ ê°•í•¨." },
            "INTJ": { title: "í˜¼ìì„œ ë‹¤ í•´ë¨¹ëŠ”\n'ì „ëµê°€'", icon: "â™Ÿï¸", color: "#E8EAF6", desc: "ë¹„íš¨ìœ¨ì ì¸ íšŒì˜ ê·¹í˜. 'ê·¸ëƒ¥ ì œê°€ í• ê²Œìš”' í•˜ê³  í˜¼ì í•˜ëŠ” ê²Œ í¸í•¨. ì¼ ëª»í•˜ëŠ” ìƒì‚¬ ë³´ë©´ ì†í„°ì§." },
            "ISTP": { title: "íš¨ìœ¨ì„± ëíŒì™•\n'ë§ŒëŠ¥ í•´ê²°ì‚¬'", icon: "ğŸ”§", color: "#ECEFF1", desc: "ì›”ê¸‰ ë°›ì€ ë§Œí¼ë§Œ ì¼í•œë‹¤. ê¸°ê³„ì ì¸ ë¦¬ì•¡ì…˜ì˜ ë‹¬ì¸. ë²¼ë½ì¹˜ê¸°ë¡œ ì¼ ì²˜ë¦¬í•˜ëŠ”ë° ê²°ê³¼ë¬¼ì€ ì¢‹ìŒ." },
            "ISFP": { title: "í‡´ì‚¬ ì§¤ ì¤ì¤í•˜ëŠ”\n'ì†Œì‹¬í•œ ì˜ˆìˆ ê°€'", icon: "ğŸ¨", color: "#FFF3E0", desc: "ëˆ„ì›ŒìˆëŠ” ê²Œ ì œì¼ ì¢‹ìŒ. ê°ˆë“± ì‹«ì–´ì„œ ê·¸ëƒ¥ ë‚´ê°€ ì°¸ê³  ë§˜. ë§ˆìŒì†ì— í•­ìƒ ì‚¬ì§ì„œ í’ˆê³  ë‹¤ë‹˜." },
            "INFP": { title: "ìƒì²˜ë°›ì€ ì˜í˜¼\n'ì¿ í¬ë‹¤ìŠ¤'", icon: "ğŸª", color: "#FFEBEE", desc: "í˜¼ìë§Œì˜ ì„¸ê³„ê°€ í™•ì‹¤í•¨. ìƒì‚¬ í•œìˆ¨ ì†Œë¦¬ì—ë„ 'ë‚˜ ë•Œë¬¸ì¸ê°€?' í•˜ê³  3ë°• 4ì¼ ê³ ë¯¼í•¨. ê°ìˆ˜ì„± í­ë°œ." },
            "INTP": { title: "ì•„ì´ë””ì–´ ë±…í¬\n'ê²Œìœ¼ë¥¸ ì²œì¬'", icon: "ğŸ’¡", color: "#E0F7FA", desc: "íšŒì˜ ì‹œê°„ì— ë© ë•Œë¦¬ëŠ” ê²ƒ ê°™ì§€ë§Œ ë¨¸ë¦¿ì†ìœ¼ë¡œ ìš°ì£¼ ì •ë³µ ì¤‘. ê´€ì‹¬ ì—†ëŠ” ì¼ì€ ì£½ì–´ë„ ì•ˆ í•¨." },
            "ESTP": { title: "ìŠ¤ë¦´ì„ ì¦ê¸°ëŠ”\n'í–‰ë™ëŒ€ì¥'", icon: "ğŸï¸", color: "#FFECB3", desc: "ì¼ë‹¨ ì €ì§€ë¥´ê³  ë³¸ë‹¤. ëˆˆì¹˜ ë¹ ë¥´ê³  ë§ë¹¨ ì¢‹ì•„ì„œ ì˜ì—…ì§ ìµœì í™”. ì‚¬ë‚´ ì •ì¹˜ì§ˆë„ ì€ê·¼ ì˜í•¨." },
            "ESFP": { title: "íšŒì‹ ìë¦¬ ì„¼í„°\n'í•µì¸ì‹¸'", icon: "ğŸ‰", color: "#FFF9C4", desc: "íšŒì‚¬ ë‹¤ë‹ˆëŠ” ì´ìœ : ì ì‹¬ì‹œê°„, íƒ•ë¹„ì‹¤ ìˆ˜ë‹¤, íšŒì‹. ë¶„ìœ„ê¸° ë©”ì´ì»¤ì§€ë§Œ ì¼í•  ë• ì§‘ì¤‘ë ¥ 3ì´ˆ." },
            "ENFP": { title: "ì—´ì • ë§Œìˆ˜ë¥´\n'ì¬ê¸°ë°œë„ í™œë™ê°€'", icon: "ğŸ”¥", color: "#FFCCBC", desc: "í•˜ê³  ì‹¶ì€ ê±´ ë§ì€ë° ë§ˆë¬´ë¦¬ê°€ ì•ˆ ë¨. ë¦¬ì•¡ì…˜ ë¶€ìë¼ ìƒì‚¬ë“¤ì´ ì¢‹ì•„í•¨. ê°ì • ê¸°ë³µ ë¡¤ëŸ¬ì½”ìŠ¤í„°." },
            "ENTP": { title: "ë§ì‹¸ì›€ ì ˆëŒ€ ì•ˆ ì§€ëŠ”\n'í”„ë¡œ ë°˜ë°•ëŸ¬'", icon: "ğŸ¥Š", color: "#D1C4E9", desc: "ìƒì‚¬ ë§ì—ë„ 'ê·¼ë° ê·¸ê±´ ì•„ë‹ˆì§€ ì•Šë‚˜ìš”?' í•¨. ì•„ì´ë””ì–´ëŠ” ì¢‹ì€ë° ë””í…Œì¼ ë¶€ì¡±. ì¬ë°ŒëŠ” ê±°ë§Œ í•¨." },
            "ESTJ": { title: "ì Šì€ ê¼°ëŒ€\n'ì—„ê²©í•œ ê´€ë¦¬ì'", icon: "ğŸ‘”", color: "#BBDEFB", desc: "ì¼ ëª»í•˜ëŠ” ì‚¬ëŒ ì´í•´ ë¶ˆê°€. ì±…ì„ê° ê°•í•˜ê³  ì¶”ì§„ë ¥ ì¢‹ìŒ. ë³¸ì¸ì€ ê¼°ëŒ€ ì•„ë‹ˆë¼ê³  ìƒê°í•¨ (ê·¼ë° ë§ìŒ)." },
            "ESFJ": { title: "ë¶„ìœ„ê¸° ë©”ì´ì»¤\n'ì‚¬êµì ì¸ ì™¸êµê´€'", icon: "ğŸ¤", color: "#C8E6C9", desc: "ë™ë£Œ ìƒì¼, ê²½ì¡°ì‚¬ ë‹¤ ì±™ê¹€. ì¸ì •ë°›ê³  ì‹¶ì–´ í•¨. ë‚¨ ëˆˆì¹˜ ë§ì´ ë´ì„œ í”¼ê³¤í•œ ìŠ¤íƒ€ì¼." },
            "ENFJ": { title: "ë‹¤ì •ë‹¤ê°í•œ ë¦¬ë”\n'ì–¸ë³€ ëŠ¥ìˆ™í˜•'", icon: "ğŸ¤", color: "#FFE0B2", desc: "ì‚¬ëŒ ì¢‹ì•„í•˜ê³  ë§ ì˜í•¨. ì˜¤ì§€ë– ë„“ì–´ì„œ ë‚¨ ì¼ê¹Œì§€ ë‹¤ ë– ì•ˆìŒ. ì¹­ì°¬í•´ì£¼ë©´ ì¼ 2ë°°ë¡œ í•¨." },
            "ENTJ": { title: "íƒœìƒë¶€í„° ì‚¬ì¥ë‹˜\n'ì§€ë„ì'", icon: "ğŸ¦", color: "#CFD8DC", desc: "ë‹µë‹µí•œ ê±° ì§ˆìƒ‰. ë‚´ê°€ ëŒ€ì¥ í•´ì•¼ ì§ì„± í’€ë¦¼. ì¼ ì¤‘ë…ì. ì„±ê³µ ìš•êµ¬ ê°•í•´ì„œ ìŠ¹ì§„ ë¹ ë¦„." }
        };

        // 3. í™”ë©´ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥
        function updateResult() {
            // ë§Œì•½ mbti ê°’ì´ ì—†ê±°ë‚˜ ì´ìƒí•˜ë©´ ê¸°ë³¸ê°’(ESTJ) ë³´ì—¬ì£¼ê¸°
            let type = mbti ? mbti.toUpperCase() : "ESTJ"; 
            if(!resultData[type]) type = "ESTJ";

            const data = resultData[type];

            document.getElementById('resultTitle').innerText = data.title;
            document.getElementById('resultIcon').innerText = data.icon;
            document.getElementById('resultDesc').innerText = data.desc;
            document.getElementById('resultBox').style.backgroundColor = data.color;
        }

        // 4. ê³µìœ í•˜ê¸° ë²„íŠ¼ ê¸°ëŠ¥ (ì¹´ì¹´ì˜¤í†¡)
        Kakao.init('f68bf1f1c632b1b62c625afe72e43b1d'); // ë‚˜ì¨© í‚¤!

        function shareResult() {
            let type = mbti ? mbti.toUpperCase() : "ESTJ";
            const data = resultData[type];

            Kakao.Share.sendDefault({
                objectType: 'feed',
                content: {
                    title: 'ë‚˜ì˜ ì§ì¥ì¸ ìƒì¡´ ìœ í˜•ì€?',
                    description: data.title.replace('\n', ' ') + ' - ' + data.desc, // ì œëª©ê³¼ ì„¤ëª… í•©ì³ì„œ ë³´ëƒ„
                    imageUrl: 'https://theduck-lab.com/logo.png', // ë‚˜ì¤‘ì— ê²°ê³¼ë³„ ì´ë¯¸ì§€ ìƒê¸°ë©´ ì—¬ê¸° ìˆ˜ì •!
                    link: {
                        mobileWebUrl: window.location.href,
                        webUrl: window.location.href,
                    },
                },
                buttons: [
                    {
                        title: 'ê²°ê³¼ í™•ì¸í•˜ê¸°',
                        link: {
                            mobileWebUrl: window.location.href,
                            webUrl: window.location.href,
                        },
                    },
                ],
            });
        }

        // ì‹¤í–‰!
        updateResult();
    </script>
</body>
</html>
