<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì§ì¥ì¸ ìƒì¡´ ìœ í˜• í…ŒìŠ¤íŠ¸ ê²°ê³¼ | The Duck Lab</title>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9076819245720802" crossorigin="anonymous"></script>

    <style>
        /* ê¸°ë³¸ ì„¸íŒ… */
        body { font-family: 'Pretendard', sans-serif; background-color: #f5f5f5; margin: 0; padding: 0; display: flex; justify-content: center; min-height: 100vh; color: #333; }
        .container { width: 100%; max-width: 600px; background: white; min-height: 100vh; padding: 30px 20px; box-sizing: border-box; text-align: center; display: flex; flex-direction: column; align-items: center; }
        
        /* ê²°ê³¼ íƒ€ì´í‹€ */
        .result-subtitle { color: #666; font-size: 1rem; margin-bottom: 10px; font-weight: bold; }
        .result-title { font-size: 1.8rem; font-weight: 900; margin: 0 0 30px 0; color: #222; word-break: keep-all; }

        /* ê²°ê³¼ ë©”ì¸ ë°•ìŠ¤ */
        .result-box { width: 100%; max-width: 350px; padding: 40px 20px; background-color: #E3F2FD; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .result-icon { font-size: 5rem; margin-bottom: 20px; display: block; }
        
        /* ì„¤ëª…ê¸€ */
        .result-desc { background: #f9f9f9; padding: 20px; border-radius: 12px; text-align: left; line-height: 1.6; font-size: 0.95rem; margin-bottom: 30px; width: 100%; box-sizing: border-box; color: #444; }
        .desc-title { font-weight: 800; font-size: 1.1rem; margin-bottom: 10px; display: block; color: #333; }

        /* ğŸ‘‡ [NEW] ê¶í•© ë°•ìŠ¤ ìŠ¤íƒ€ì¼ (ì—¬ê¸°ê°€ í•µì‹¬!) */
        .match-container { display: flex; gap: 10px; width: 100%; margin-bottom: 30px; }
        .match-box { flex: 1; padding: 15px; border-radius: 12px; text-align: center; }
        .match-good { background-color: #E8F5E9; border: 1px solid #C8E6C9; }
        .match-bad { background-color: #FFEBEE; border: 1px solid #FFCDD2; }
        .match-title { display: block; font-size: 0.8rem; font-weight: bold; margin-bottom: 5px; color: #555; }
        .match-type { font-weight: 900; font-size: 1.1rem; color: #222; }
        .match-desc { font-size: 0.75rem; color: #777; margin-top: 3px; display: block; }

        /* ë²„íŠ¼ë“¤ */
        .btn-group { width: 100%; display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px; }
        .btn { padding: 18px; border-radius: 12px; font-weight: 800; font-size: 1.1rem; cursor: pointer; border: none; width: 100%; transition: transform 0.1s; }
        .btn:active { transform: scale(0.98); }
        .kakao-btn { background-color: #FEE500; color: #3c1e1e; }
        .retry-btn { background-color: #333; color: white; }
        .home-btn { background-color: white; border: 2px solid #eee; color: #666; }

        .ad-area { width: 100%; background: #fafafa; border: 1px dashed #ddd; padding: 20px; border-radius: 12px; box-sizing: border-box; margin-bottom: 20px; color: #ccc; font-size: 0.8rem; }
    </style>
</head>
<body>
    <div class="container">
        <p class="result-subtitle">ë‚˜ì˜ ì§ì¥ì¸ ìƒì¡´ ìœ í˜•ì€?</p>
        <h1 class="result-title" id="resultTitle">ê²°ê³¼ ë¶„ì„ ì¤‘...</h1>

        <div class="result-box" id="resultBox">
            <span class="result-icon" id="resultIcon">â³</span>
        </div>

        <div class="result-desc">
            <span class="desc-title">ğŸ“ ìœ í˜• íŠ¹ì§•</span>
            <p id="resultDesc">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
        </div>

        <div class="match-container">
            <div class="match-box match-good">
                <span class="match-title">í™˜ìƒì˜ ì§ê¿ ğŸ˜</span>
                <span class="match-type" id="bestMatch">???</span>
            </div>
            <div class="match-box match-bad">
                <span class="match-title">í™˜ì¥ì˜ ì§ê¿ ğŸ˜±</span>
                <span class="match-type" id="worstMatch">???</span>
            </div>
        </div>

        <div class="btn-group">
            <button class="btn kakao-btn" onclick="shareResult()">ì¹´ì¹´ì˜¤í†¡ ê³µìœ í•˜ê¸°</button>
            <button class="btn retry-btn" onclick="location.href='officeintro.html'">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œí•˜ê¸°</button>
            <button class="btn home-btn" onclick="location.href='index.html'">ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ë³´ëŸ¬ê°€ê¸°</button>
        </div>

        <div class="ad-area">ğŸ’¸ ê´‘ê³  ì˜ì—­ ğŸ’¸</div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const mbti = urlParams.get('mbti');

        // ğŸ‘‡ ë°ì´í„°ì— best(ì˜ ë§ëŠ”), worst(ì•ˆ ë§ëŠ”) ìœ í˜• ì¶”ê°€í•¨!
        const resultData = {
            "ISTJ": { title: "í•œ ì¹˜ì˜ ì˜¤ì°¨ë„ ì—†ëŠ”\n'ì¸ê°„ ì—‘ì…€'", icon: "ğŸ¤–", color: "#E3F2FD", desc: "ì‹œí‚¤ëŠ” ì¼ì€ ì™„ë²½í•˜ê²Œ í•´ë‚´ëŠ” ëª¨ë²”ìƒ! ìœµí†µì„± ì—†ë‹¤ëŠ” ì†Œë¦¬ ì¢€ ë“£ì§€ë§Œ, ì¼ ì²˜ë¦¬ëŠ” í™•ì‹¤í•¨.", best: "ESFP", worst: "ENFP" },
            "ISFJ": { title: "ëª¨ë‘ê°€ ì¢‹ì•„í•˜ëŠ”\n'ìˆ˜í˜¸ì²œì‚¬'", icon: "ğŸ‘¼", color: "#FCE4EC", desc: "ê±°ì ˆì„ ëª» í•´ì„œ ì¼ì´ ëª°ë¦¬ëŠ” íƒ€ì…. ë’¤ì—ì„œ ë¬µë¬µíˆ ì±™ê²¨ì£¼ëŠ” ì—„ë§ˆ ê°™ì€ ì¡´ì¬.", best: "ESFP", worst: "ENTP" },
            "INFJ": { title: "ì†ì„ ì•Œ ìˆ˜ ì—†ëŠ”\n'ì˜ˆì–¸ê°€'", icon: "ğŸ”®", color: "#F3E5F5", desc: "ê²‰ìœ¼ë¡œëŠ” ì›ƒì§€ë§Œ ì†ìœ¼ë¡œëŠ” ì¸ë¥˜ì•  ìƒì‹¤ ì¤‘. í†µì°°ë ¥ì´ ì¢‹ì•„ì„œ í•µì‹¬ì„ ì°Œë¦„.", best: "ENTP", worst: "ESTP" },
            "INTJ": { title: "í˜¼ìì„œ ë‹¤ í•´ë¨¹ëŠ”\n'ì „ëµê°€'", icon: "â™Ÿï¸", color: "#E8EAF6", desc: "ë¹„íš¨ìœ¨ì ì¸ íšŒì˜ ê·¹í˜. 'ê·¸ëƒ¥ ì œê°€ í• ê²Œìš”' í•˜ê³  í˜¼ì í•˜ëŠ” ê²Œ í¸í•¨.", best: "ENFP", worst: "ESFP" },
            "ISTP": { title: "íš¨ìœ¨ì„± ëíŒì™•\n'í•´ê²°ì‚¬'", icon: "ğŸ”§", color: "#ECEFF1", desc: "ì›”ê¸‰ ë°›ì€ ë§Œí¼ë§Œ ì¼í•œë‹¤. ê¸°ê³„ì ì¸ ë¦¬ì•¡ì…˜ì˜ ë‹¬ì¸. ë²¼ë½ì¹˜ê¸° ì¥ì¸.", best: "ESFJ", worst: "ENFJ" },
            "ISFP": { title: "í‡´ì‚¬ ì§¤ ì¤ì¤í•˜ëŠ”\n'ì˜ˆìˆ ê°€'", icon: "ğŸ¨", color: "#FFF3E0", desc: "ëˆ„ì›ŒìˆëŠ” ê²Œ ì œì¼ ì¢‹ìŒ. ê°ˆë“± ì‹«ì–´ì„œ ê·¸ëƒ¥ ë‚´ê°€ ì°¸ê³  ë§˜.", best: "ESTJ", worst: "ENTJ" },
            "INFP": { title: "ìƒì²˜ë°›ì€ ì˜í˜¼\n'ì¿ í¬ë‹¤ìŠ¤'", icon: "ğŸª", color: "#FFEBEE", desc: "í˜¼ìë§Œì˜ ì„¸ê³„ê°€ í™•ì‹¤í•¨. ìƒì‚¬ í•œìˆ¨ ì†Œë¦¬ì—ë„ 'ë‚˜ ë•Œë¬¸ì¸ê°€?' ê³ ë¯¼í•¨.", best: "ENFJ", worst: "ESTJ" },
            "INTP": { title: "ì•„ì´ë””ì–´ ë±…í¬\n'ê²Œìœ¼ë¥¸ ì²œì¬'", icon: "ğŸ’¡", color: "#E0F7FA", desc: "íšŒì˜ ì‹œê°„ì— ë© ë•Œë¦¬ëŠ” ê²ƒ ê°™ì§€ë§Œ ë¨¸ë¦¿ì†ìœ¼ë¡œ ìš°ì£¼ ì •ë³µ ì¤‘.", best: "ENTJ", worst: "ESFJ" },
            "ESTP": { title: "ìŠ¤ë¦´ì„ ì¦ê¸°ëŠ”\n'í–‰ë™ëŒ€ì¥'", icon: "ğŸï¸", color: "#FFECB3", desc: "ì¼ë‹¨ ì €ì§€ë¥´ê³  ë³¸ë‹¤. ëˆˆì¹˜ ë¹ ë¥´ê³  ë§ë¹¨ ì¢‹ì•„ì„œ ì˜ì—…ì§ ìµœì í™”.", best: "ISFJ", worst: "INFJ" },
            "ESFP": { title: "íšŒì‹ ìë¦¬ ì„¼í„°\n'í•µì¸ì‹¸'", icon: "ğŸ‰", color: "#FFF9C4", desc: "íšŒì‚¬ ë‹¤ë‹ˆëŠ” ì´ìœ : ì ì‹¬ì‹œê°„, íƒ•ë¹„ì‹¤ ìˆ˜ë‹¤, íšŒì‹.", best: "ISTJ", worst: "INTJ" },
            "ENFP": { title: "ì—´ì • ë§Œìˆ˜ë¥´\n'í™œë™ê°€'", icon: "ğŸ”¥", color: "#FFCCBC", desc: "í•˜ê³  ì‹¶ì€ ê±´ ë§ì€ë° ë§ˆë¬´ë¦¬ê°€ ì•ˆ ë¨. ë¦¬ì•¡ì…˜ ë¶€ì.", best: "INTJ", worst: "ISTJ" },
            "ENTP": { title: "ë§ì‹¸ì›€ ì ˆëŒ€ ì•ˆ ì§€ëŠ”\n'ë°˜ë°•ëŸ¬'", icon: "ğŸ¥Š", color: "#D1C4E9", desc: "ìƒì‚¬ ë§ì—ë„ 'ê·¼ë° ê·¸ê±´ ì•„ë‹ˆì§€ ì•Šë‚˜ìš”?' í•¨. ì•„ì´ë””ì–´ëŠ” ì¢‹ìŒ.", best: "INFJ", worst: "ISFJ" },
            "ESTJ": { title: "ì Šì€ ê¼°ëŒ€\n'ê´€ë¦¬ì'", icon: "ğŸ‘”", color: "#BBDEFB", desc: "ì±…ì„ê° ê°•í•˜ê³  ì¶”ì§„ë ¥ ì¢‹ìŒ. ë³¸ì¸ì€ ê¼°ëŒ€ ì•„ë‹ˆë¼ê³  ìƒê°í•¨.", best: "ISFP", worst: "INFP" },
            "ESFJ": { title: "ë¶„ìœ„ê¸° ë©”ì´ì»¤\n'ì™¸êµê´€'", icon: "ğŸ¤", color: "#C8E6C9", desc: "ë™ë£Œ ìƒì¼, ê²½ì¡°ì‚¬ ë‹¤ ì±™ê¹€. ì¸ì •ë°›ê³  ì‹¶ì–´ í•¨.", best: "ISTP", worst: "INTP" },
            "ENFJ": { title: "ë‹¤ì •ë‹¤ê°í•œ ë¦¬ë”\n'ì–¸ë³€ê°€'", icon: "ğŸ¤", color: "#FFE0B2", desc: "ì‚¬ëŒ ì¢‹ì•„í•˜ê³  ë§ ì˜í•¨. ì˜¤ì§€ë– ë„“ì–´ì„œ ë‚¨ ì¼ê¹Œì§€ ë‹¤ ë– ì•ˆìŒ.", best: "INFP", worst: "ISTP" },
            "ENTJ": { title: "íƒœìƒë¶€í„° ì‚¬ì¥ë‹˜\n'ì§€ë„ì'", icon: "ğŸ¦", color: "#CFD8DC", desc: "ë‹µë‹µí•œ ê±° ì§ˆìƒ‰. ë‚´ê°€ ëŒ€ì¥ í•´ì•¼ ì§ì„± í’€ë¦¼. ì¼ ì¤‘ë…ì.", best: "INTP", worst: "ISFP" }
        };

        Kakao.init('f68bf1f1c632b1b62c625afe72e43b1d'); // í‚¤ í™•ì¸!

        function updateResult() {
            let type = mbti ? mbti.toUpperCase() : "ESTJ"; 
            if(!resultData[type]) type = "ESTJ";

            const data = resultData[type];

            document.getElementById('resultTitle').innerText = data.title;
            document.getElementById('resultIcon').innerText = data.icon;
            document.getElementById('resultDesc').innerText = data.desc;
            document.getElementById('resultBox').style.backgroundColor = data.color;

            // ğŸ‘‡ [NEW] ê¶í•© ë°ì´í„° ë„£ê¸°
            document.getElementById('bestMatch').innerText = data.best;
            document.getElementById('worstMatch').innerText = data.worst;
        }

        function shareResult() {
            let type = mbti ? mbti.toUpperCase() : "ESTJ";
            const data = resultData[type];
            
            // ê³µìœ  ë©˜íŠ¸ì— ê¶í•© ì •ë³´ë„ ìŠ¬ì© ë„£ìœ¼ë©´ ë” ì¢‹ìŒ!
            Kakao.Share.sendDefault({
                objectType: 'feed',
                content: {
                    title: 'ë‚˜ì˜ ì§ì¥ì¸ ìƒì¡´ ìœ í˜•ì€?',
                    description: data.title.replace('\n', ' ') + ' | í™˜ìƒì˜ ì§ê¿: ' + data.best,
                    imageUrl: 'https://theduck-lab.com/logo.png', 
                    link: { mobileWebUrl: window.location.href, webUrl: window.location.href },
                },
                buttons: [{ title: 'ê²°ê³¼ í™•ì¸í•˜ê¸°', link: { mobileWebUrl: window.location.href, webUrl: window.location.href } }]
            });
        }

        updateResult();
    </script>
</body>
</html>
