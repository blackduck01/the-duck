<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì§ì¥ì¸ ìƒì¡´ ìœ í˜• í…ŒìŠ¤íŠ¸ | The Duck Lab</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¦†</text></svg>">
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #f5f5f5; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { width: 100%; max-width: 600px; background: white; height: 100vh; display: flex; flex-direction: column; position: relative; }
        .progress-container { width: 100%; height: 6px; background-color: #eee; }
        .progress-bar { height: 100%; background-color: #3b82f6; width: 0%; transition: width 0.3s; }
        .page-count { text-align: right; font-size: 0.8rem; color: #999; padding: 10px 20px 0; font-weight: bold; }
        .question-area { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 0 30px; text-align: center; }
        .q-title { font-size: 1.5rem; font-weight: 900; margin-bottom: 20px; line-height: 1.4; color: #333; word-break: keep-all; }
        .q-emoji { font-size: 4rem; margin-bottom: 30px; }
        .answer-area { padding: 0 20px 50px; display: flex; flex-direction: column; gap: 15px; }
        .btn { width: 100%; padding: 20px; border: 2px solid #f1f1f1; background: #fff; border-radius: 16px; font-size: 1rem; font-weight: 600; cursor: pointer; color: #444; transition: all 0.1s; text-align: center; line-height: 1.4; }
        .btn:hover { background-color: #E3F2FD; border-color: #2196F3; color: #1565C0; }
        .btn:active { transform: scale(0.98); background-color: #2196F3; border-color: #2196F3; color: white; }

        /* ğŸ‘‡ ë¡œë”© í™”ë©´ ìŠ¤íƒ€ì¼ ì¶”ê°€ */
        .loading-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.95); display: none; flex-direction: column; justify-content: center; align-items: center; z-index: 9999; }
        .loading-spinner { font-size: 3rem; animation: spin 1s infinite linear; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">ğŸ¦†</div>
        <h2 style="margin-top: 20px; color: #333;">ê²°ê³¼ ë¶„ì„ ì¤‘...</h2>
        <p style="color: #666;">ì˜¤ë¦¬ê°€ ì—´ì‹¬íˆ ê³„ì‚°í•˜ê³  ìˆì–´ìš”! ğŸ“</p>
    </div>

    <div class="container">
        <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
        <div class="page-count"><span id="currentNum">1</span> / 12</div>
        <div class="question-area">
            <div class="q-emoji" id="qEmoji">ğŸ‘€</div>
            <div class="q-title" id="qTitle">ë¡œë”© ì¤‘...</div>
        </div>
        <div class="answer-area">
            <button class="btn" id="btnA" onclick="selectAnswer('A')">A</button>
            <button class="btn" id="btnB" onclick="selectAnswer('B')">B</button>
        </div>
    </div>
    <script>
        const qnaList = [
            { q: "ì¶œê·¼ê¸¸ ì§€ì˜¥ì² /ë²„ìŠ¤ ì•ˆ,\në‚˜ì˜ ë¨¸ë¦¿ì†ì€?", emoji: "ğŸšŒ", a: { text: "ì•„.. ì‚¬ëŒ ë„ˆë¬´ ë§ì•„.. ê¸° ë¹¨ë ¤.. (ë©-)", type: "I" }, b: { text: "ì˜¤ëŠ˜ ì ì‹¬ ë­ ë¨¹ì§€? ì£¼ë§ì— ë­ í•˜ì§€? (ìƒê° í­ë°œ)", type: "E" } },
            { q: "ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ íšŒì˜ ì‹œê°„,\në‚˜ì˜ ìŠ¤íƒ€ì¼ì€?", emoji: "ğŸ—£ï¸", a: { text: "ì¼ë‹¨ ë“£ê³  ë‚˜ì¤‘ì— ì •ë¦¬í•´ì„œ ë§í•œë‹¤.", type: "I" }, b: { text: "ë– ì˜¤ë¥´ëŠ” ì•„ì´ë””ì–´ë¥¼ ë°”ë¡œë°”ë¡œ ë§í•œë‹¤.", type: "E" } },
            { q: "ì—…ë¬´ ì¤‘ ëª¨ë¥´ëŠ” ê²Œ ìƒê²¼ë‹¤!\në‚˜ëŠ” ì–´ë–»ê²Œ í• ê¹Œ?", emoji: "ğŸ¤”", a: { text: "í˜¼ì êµ¬ê¸€ë§í•´ì„œ ëê¹Œì§€ ì°¾ì•„ë³¸ë‹¤.", type: "I" }, b: { text: "ì˜† ìë¦¬ ë™ë£Œë‚˜ ìƒì‚¬ì—ê²Œ ë°”ë¡œ ë¬¼ì–´ë³¸ë‹¤.", type: "E" } },
            { q: "ë³´ê³ ì„œë¥¼ ì‘ì„±í•  ë•Œ\në” ì‹ ê²½ ì“°ëŠ” ë¶€ë¶„ì€?", emoji: "ğŸ“‘", a: { text: "êµ¬ì²´ì ì¸ ìˆ˜ì¹˜, ë°ì´í„°, ì‚¬ì‹¤ í™•ì¸", type: "S" }, b: { text: "ì „ì²´ì ì¸ íë¦„, ë¹„ì „, ê¸°íš ì˜ë„", type: "N" } },
            { q: "ìƒì‚¬ê°€ 'ê·¸ëƒ¥ ëŒ€ì¶© í•´ì™€'ë¼ê³  í–ˆë‹¤.\në‚˜ì˜ ë°˜ì‘ì€?", emoji: "ğŸ¤·", a: { text: "ëŒ€ì¶©ì´ ì–´ëŠ ì •ë„ì§€? (ê¸°ì¤€ì´ ëª¨í˜¸í•´ì„œ ë‹µë‹µ)", type: "S" }, b: { text: "ì˜¤ì¼€ì´~ ëŠë‚Œ ì•„ë‹ˆê¹Œ~ (ì ë‹¹íˆ í•´ì„œ ëƒ„)", type: "N" } },
            { q: "ì ì‹¬ ë©”ë‰´ë¥¼ ê³ ë¥¼ ë•Œ\në‚˜ëŠ”?", emoji: "ğŸ±", a: { text: "ëŠ˜ ê°€ë˜ ë§›ì§‘, ì‹¤íŒ¨ ì—†ëŠ” ë©”ë‰´ ì„ íƒ", type: "S" }, b: { text: "ìƒˆë¡œ ìƒê¸´ ì‹ë‹¹? ë„ì „í•´ë³¼ê¹Œ?", type: "N" } },
            { q: "ë™ë£Œê°€ ì—…ë¬´ ì‹¤ìˆ˜ë¥¼ í•´ì„œ\nìš°ìš¸í•´í•˜ê³  ìˆë‹¤.", emoji: "ğŸ˜¢", a: { text: "ì–´ë””ì„œ í‹€ë ¸ì–´? ê°™ì´ ìˆ˜ìŠµí•˜ì. (í•´ê²°ì±…)", type: "T" }, b: { text: "í— ì–´ë–¡í•´.. ë§ì´ ë†€ëì§€? ã… ã…  (ê³µê°)", type: "F" } },
            { q: "ìƒì‚¬ì—ê²Œ ê¹¨ì§€ê³  ì™”ì„ ë•Œ\në“£ê³  ì‹¶ì€ ìœ„ë¡œëŠ”?", emoji: "ğŸ’”", a: { text: "ê¹€ëŒ€ë¦¬ê°€ ì˜ëª»í•œ ê±° ì—†ëŠ”ë°? ìƒì‚¬ê°€ ì´ìƒí•¨. (íŒ©íŠ¸)", type: "T" }, b: { text: "ì˜¤ëŠ˜ ì§„ì§œ ê³ ìƒí–ˆë‹¤.. ìˆ  í•œì” í• ê¹Œ? (ë§ˆìŒ)", type: "F" } },
            { q: "íšŒì˜ ì¤‘ ì˜ê²¬ ì¶©ëŒì´ ë°œìƒí–ˆë‹¤.\në‚˜ëŠ”?", emoji: "âš¡", a: { text: "ë…¼ë¦¬ì ìœ¼ë¡œ ëˆ„ê°€ ë§ëŠ”ì§€ ë”°ì ¸ë³¸ë‹¤.", type: "T" }, b: { text: "ì„œë¡œ ê¸°ë¶„ ìƒí•˜ì§€ ì•Šê²Œ ì¢‹ê²Œ ë„˜ì–´ê°„ë‹¤.", type: "F" } },
            { q: "íœ´ê°€ ê³„íšì„ ì„¸ìš¸ ë•Œ\në‚˜ëŠ”?", emoji: "âœˆï¸", a: { text: "ë¶„ ë‹¨ìœ„ ì—‘ì…€ ê³„íší‘œ ì‘ì„± (ë§›ì§‘, ë™ì„  í¬í•¨)", type: "J" }, b: { text: "ë¹„í–‰ê¸° í‘œë§Œ ëŠê³  ì¼ë‹¨ ê°„ë‹¤ (ê°€ì„œ ìƒê°í•¨)", type: "P" } },
            { q: "ì±…ìƒ ìœ„ ìƒíƒœëŠ”?", emoji: "ğŸ–¥ï¸", a: { text: "íŒŒì¼, í•„ê¸°êµ¬ ê° ì¡í˜€ ìˆìŒ (ê¹”ë”)", type: "J" }, b: { text: "ì–´ë””ì— ë­ ìˆëŠ”ì§€ë§Œ ì•Œë©´ ë¨ (ì¹´ì˜¤ìŠ¤)", type: "P" } },
            { q: "ê°‘ìê¸° ê¸´ê¸‰ íšŒì˜ê°€ ì¡í˜”ë‹¤!\në‚˜ì˜ ì‹¬ì •ì€?", emoji: "ğŸš¨", a: { text: "ì•„.. ë‚´ ê³„íš ë‹¤ í‹€ì–´ì¡Œë„¤.. (ìŠ¤íŠ¸ë ˆìŠ¤)", type: "J" }, b: { text: "ì˜¤ ë­ì§€? ë¬´ìŠ¨ ì¼ì´ì§€? (ê·¸ëŸ¬ë ¤ë‹ˆ í•¨)", type: "P" } }
        ];
        let score = { E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0 };
        let currentStep = 0;
        const progressBar = document.getElementById('progressBar');
        const currentNum = document.getElementById('currentNum');
        const qTitle = document.getElementById('qTitle');
        const qEmoji = document.getElementById('qEmoji');
        const btnA = document.getElementById('btnA');
        const btnB = document.getElementById('btnB');
        
        setQuestion();
        function setQuestion() {
            let q = qnaList[currentStep];
            let percent = (currentStep / 12) * 100;
            progressBar.style.width = percent + '%';
            currentNum.innerText = currentStep + 1;
            qEmoji.innerText = q.emoji;
            qTitle.innerText = q.q;
            btnA.innerText = q.a.text;
            btnB.innerText = q.b.text;
        }
        function selectAnswer(choice) {
            let q = qnaList[currentStep];
            let type = (choice === 'A') ? q.a.type : q.b.type;
            score[type]++;
            currentStep++;
            if(currentStep < 12) { setQuestion(); } else { goResult(); }
        }
        
        // ğŸ‘‡ ë¡œë”© í›„ ê²°ê³¼ í˜ì´ì§€ ì´ë™ ë¡œì§
        function goResult() {
            // 1. ë¡œë”© í™”ë©´ ì¼œê¸°
            document.getElementById('loadingOverlay').style.display = 'flex';
            
            // 2. MBTI ê³„ì‚°
            let mbti = "";
            mbti += (score.E > score.I) ? "E" : "I";
            mbti += (score.S > score.N) ? "S" : "N";
            mbti += (score.T > score.F) ? "T" : "F";
            mbti += (score.J > score.P) ? "J" : "P";

            // 3. 2.5ì´ˆ ë’¤ì— ì´ë™ (ì«„ê¹ƒí•œ ë§›!)
            setTimeout(function() {
                location.href = `result_office.html?mbti=${mbti}`; 
            }, 2500);
        }
    </script>
</body>
</html>
