<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê·€ì°¨ë‹ˆì¦˜ ë ˆë²¨ ê²°ê³¼ | The Duck Lab</title>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9076819245720802" crossorigin="anonymous"></script>
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #f5f5f5; margin: 0; padding: 0; display: flex; justify-content: center; min-height: 100vh; color: #333; }
        .container { width: 100%; max-width: 600px; background: white; min-height: 100vh; padding: 30px 20px; box-sizing: border-box; text-align: center; display: flex; flex-direction: column; align-items: center; }
        
        .result-subtitle { color: #673AB7; font-size: 1rem; margin-bottom: 10px; font-weight: bold; }
        .result-title { font-size: 1.8rem; font-weight: 900; margin: 0 0 30px 0; color: #222; word-break: keep-all; }
        
        .result-box { width: 100%; max-width: 350px; padding: 40px 20px; background-color: #EDE7F6; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .result-icon { font-size: 5rem; margin-bottom: 20px; display: block; }
        
        .result-desc { background: #F3E5F5; padding: 20px; border-radius: 12px; text-align: left; line-height: 1.6; font-size: 0.95rem; margin-bottom: 30px; width: 100%; box-sizing: border-box; color: #444; border: 1px solid #D1C4E9; }
        .desc-title { font-weight: 800; font-size: 1.1rem; margin-bottom: 10px; display: block; color: #512DA8; }
        
        .match-container { display: flex; gap: 10px; width: 100%; margin-bottom: 30px; }
        .match-box { flex: 1; padding: 15px; border-radius: 12px; text-align: center; }
        .match-good { background-color: #EDE7F6; border: 1px solid #D1C4E9; }
        .match-bad { background-color: #ECEFF1; border: 1px solid #CFD8DC; }
        .match-title { display: block; font-size: 0.8rem; font-weight: bold; margin-bottom: 5px; color: #555; }
        .match-type { font-weight: 900; font-size: 1.1rem; color: #222; }

        .btn-group { width: 100%; display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px; }
        .btn { padding: 18px; border-radius: 12px; font-weight: 800; font-size: 1.1rem; cursor: pointer; border: none; width: 100%; transition: transform 0.1s; }
        .btn:active { transform: scale(0.98); }
        .kakao-btn { background-color: #FEE500; color: #3c1e1e; }
        .retry-btn { background-color: #333; color: white; }
        .home-btn { background-color: white; border: 2px solid #eee; color: #666; }
        .ad-area { width: 100%; background: #fafafa; border: 1px dashed #ddd; padding: 20px; border-radius: 12px; box-sizing: border-box; margin-bottom: 20px; color: #ccc; font-size: 0.8rem; }
    </style>
</head>
<body>
    <div class="container">
        <p class="result-subtitle">ë‚˜ì˜ ê²Œìœ¼ë¦„ ë“±ê¸‰ì€?</p>
        <h1 class="result-title" id="resultTitle">ê²°ê³¼ ë¶„ì„ ì¤‘...</h1>
        <div class="result-box" id="resultBox"><span class="result-icon" id="resultIcon">ğŸ’¤</span></div>
        <div class="result-desc">
            <span class="desc-title">ğŸ›Œ ê·€ì°¨ë‹ˆì¦˜ íŠ¹ì§•</span>
            <p id="resultDesc">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
        </div>

        <div class="match-container">
            <div class="match-box match-good">
                <span class="match-title">ë’¹êµ´ ë©”ì´íŠ¸ (ì²œìƒì—°ë¶„)</span>
                <span class="match-type" id="bestMatch">???</span>
            </div>
            <div class="match-box match-bad">
                <span class="match-title">ë‚  í”¼ê³¤í•˜ê²Œ í•¨ (ìƒê·¹)</span>
                <span class="match-type" id="worstMatch">???</span>
            </div>
        </div>

        <div class="btn-group">
            <button class="btn kakao-btn" onclick="shareResult()">ì¹´ì¹´ì˜¤í†¡ ê³µìœ í•˜ê¸°</button>
            <button class="btn retry-btn" onclick="location.href='lazyintro.html'">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œí•˜ê¸°</button>
            <button class="btn home-btn" onclick="location.href='index.html'">ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ë³´ëŸ¬ê°€ê¸°</button>
        </div>
        <div class="ad-area">ğŸ’¸ ê´‘ê³  ì˜ì—­ ğŸ’¸</div>
    </div>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const mbti = urlParams.get('mbti');

        const resultData = {
            "ISTJ": { title: "ê³„íšì ì¸ ì§‘ìˆœì´\n'íš¨ìœ¨ì  ê²Œìœ¼ë¦„'", icon: "ğŸ“…", desc: "ëˆ„ì›Œìˆì§€ë§Œ ë¨¸ë¦¿ì†ì€ ë°”ì¨. '3ì‹œê¹Œì§€ë§Œ ëˆ•ê³  ì²­ì†Œí•´ì•¼ì§€'ë¼ê³  ê³„íš ì„¸ì›€. ê·€ì°®ì•„ë„ í•  ê±´ ë‹¤ í•˜ê³  ëˆ•ëŠ” ìŠ¤íƒ€ì¼.", best: "ESFP", worst: "ENFP" },
            "ISFJ": { title: "ì¹¨ëŒ€ì™€ ë¬¼ì•„ì¼ì²´\n'ì´ë¶ˆ ë°–ì€ ìœ„í—˜í•´'", icon: "ğŸ›Œ", desc: "ì•½ì† ì·¨ì†Œë˜ë©´ ê²‰ìœ¼ë¡  ì•„ì‰¬ì›Œí•˜ëŠ”ë° ì†ìœ¼ë¡  ì¶•ì œ ì—´ë¦¼. ì¹¨ëŒ€ ìœ„ì—ì„œ ë°¥ ë¨¹ê³  ë„·í”Œë¦­ìŠ¤ ë³´ê³  ë‹¤ í•¨.", best: "ESFP", worst: "ENTP" },
            "INFJ": { title: "ì†ì„¸ì™€ ë‹¨ì ˆëœ\n'ìë°œì  ì•„ì‹¸'", icon: "ğŸ§˜", desc: "í˜¼ìë§Œì˜ ì¶©ì „ ì‹œê°„ì´ í•„ìˆ˜. ì—°ë½ ì•ˆ ë˜ë©´ ìëŠ” ê±° ì•„ë‹ˆê³  í˜¼ì ìˆê³  ì‹¶ì€ ê±°ì„. ìƒê°í•˜ëŠë¼ ë°”ì¨.", best: "ENTP", worst: "ESTP" },
            "INTJ": { title: "ìˆ¨ ì‰¬ëŠ” ê²ƒë„ ì „ëµ\n'ì—ë„ˆì§€ ì ˆì „ ëª¨ë“œ'", icon: "ğŸ”‹", desc: "ë¶ˆí•„ìš”í•œ ì›€ì§ì„ì„ ê·¹ë„ë¡œ ì‹«ì–´í•¨. ë™ì„  ìµœì†Œí™”ì˜ ë‹¬ì¸. ê·€ì°®ì€ ì‚¬ëŒ ë§Œë‚˜ëŠ” ê²Œ ì œì¼ ì‹«ìŒ.", best: "ENFP", worst: "ESFP" },
            "ISTP": { title: "ê·€ì°¨ë‹ˆì¦˜ ë§Œë ™\n'ì¸ê°„ ë‚˜ë¬´ëŠ˜ë³´'", icon: "ğŸ¦¥", desc: "ë§Œì‚¬ê°€ ê·€ì°®ìŒ. ì”»ëŠ” ê²Œ ì„¸ìƒì—ì„œ ì œì¼ í° ì¼ì„. ë°°ë‹¬ ìŒì‹ ìš©ê¸° ì¹˜ìš°ê¸° ê·€ì°®ì•„ì„œ ì•ˆ ì‹œì¼œ ë¨¹ì„ ë•Œë„ ìˆìŒ.", best: "ESFJ", worst: "ENFJ" },
            "ISFP": { title: "ëˆ„ì›Œ ìˆëŠ” ê²Œ íŠ¹ê¸°\n'ì¹¨ëŒ€ ì§€ë°•ë ¹'", icon: "ğŸ›‹ï¸", desc: "í•˜ë£¨ ì¢…ì¼ ëˆ„ì›Œìˆì–´ë„ í—ˆë¦¬ ì•ˆ ì•„í””. ì•½ì† ë‚˜ê°€ê¸° ì§ì „ê¹Œì§€ 'ê°€ì§€ ë§ê¹Œ?' 500ë²ˆ ê³ ë¯¼í•¨.", best: "ESTJ", worst: "ENTJ" },
            "INFP": { title: "ê¿ˆì†ì„ í—¤ë§¤ëŠ”\n'ëª½ìƒê°€ ê²Œìœ¼ë¦„ë±…ì´'", icon: "â˜ï¸", desc: "í˜„ì‹¤ ë„í”¼ì„± ìˆ˜ë©´ì„ ì¦ê¹€. í•´ì•¼ í•  ì¼ ìŒ“ì—¬ìˆëŠ”ë° ì™¸ë©´í•˜ê³  ìœ íŠœë¸Œ ë´„. ê·¸ë¦¬ê³  ìì±…í•¨.", best: "ENFJ", worst: "ESTJ" },
            "INTP": { title: "ìƒê°ë§Œ í•˜ê³  ì•ˆ í•¨\n'ë‡Œë§Œ ë°”ìœ ì˜¤ë¦¬'", icon: "ğŸ§ ", desc: "ì•„ì´ë””ì–´ëŠ” ë§ì€ë° ëª¸ì´ ì•ˆ ì›€ì§ì„. ë°¥ ë¨¹ëŠ” ê²ƒë„ ê·€ì°®ì•„ì„œ ì˜ì–‘ì œë¡œ ë•Œìš°ê³  ì‹¶ì–´ í•¨.", best: "ENTJ", worst: "ESFJ" },
            "ESTP": { title: "ì‹¬ì‹¬í•œ ê±´ ëª» ì°¸ì•„\n'ê°€ì§œ ê²Œìœ¼ë¦„'", icon: "âš¡", desc: "ì§‘ì— ìˆìœ¼ë©´ ëª¸ì´ ê·¼ì§ˆê±°ë¦¼. ëˆ•ë°© ë³´ë‹¤ëŠ” ë‚˜ê°€ì„œ ë…¸ëŠ” ê²Œ íœ´ì‹ì„. ë¯¸ë£¨ê¸°ì˜ ì²œì¬ì§€ë§Œ ë‹¥ì¹˜ë©´ ë‹¤ í•¨.", best: "ISFJ", worst: "INFJ" },
            "ESFP": { title: "ëˆ•ëŠ” ê²Œ ë­ì£ ?\n'ì—ë„ˆìì´ì €'", icon: "ğŸ’ƒ", desc: "ì§‘ì— í˜¼ì ìˆìœ¼ë©´ ìš°ìš¸í•´ì§. ì¹œêµ¬ ë§Œë‚˜ì„œ ë– ë“¤ì–´ì•¼ ì¶©ì „ë¨. ê·€ì°¨ë‹ˆì¦˜? ê·¸ê²Œ ë­ì„?", best: "ISTJ", worst: "INTJ" },
            "ENFP": { title: "ë³€ë•ìŠ¤ëŸ¬ìš´ ë½€ë¡œë¡œ\n'ë…¸ëŠ” ê²Œ ì œì¼ ì¢‹ì•„'", icon: "ğŸ§", desc: "ì²­ì†Œí•˜ë‹¤ê°€ ì˜›ë‚  ì‚¬ì§„ ë°œê²¬í•´ì„œ 2ì‹œê°„ ë™ì•ˆ êµ¬ê²½í•¨. ì§‘ì¤‘ë ¥ 0. í•´ì•¼ í•  ì¼ ê¹Œë¨¹ê³  ë†ˆ.", best: "INTJ", worst: "ISTJ" },
            "ENTP": { title: "íš¨ìœ¨ ì°¾ì•„ ì‚¼ë§Œ ë¦¬\n'ì”ë¨¸ë¦¬ ëŒ€ë§ˆì™•'", icon: "ğŸ˜ˆ", desc: "ì–´ë–»ê²Œ í•˜ë©´ ì† ì•ˆ ëŒ€ê³  ì½” í’€ê¹Œ ì—°êµ¬í•¨. ê·€ì°®ì€ ì¼ì€ ë‚¨í•œí…Œ ë„˜ê¸°ê¸° ìŠ¤í‚¬ ì‹œì „.", best: "INFJ", worst: "ISFJ" },
            "ESTJ": { title: "ì‰¬ëŠ” ê²ƒë„ ì¼ì´ë‹¤\n'ë¶€ì§€ëŸ°í•œ í†µì œê´‘'", icon: "ğŸ“", desc: "ì£¼ë§ì—ë„ ì•ŒëŒ ë§ì¶”ê³  ì¼ì–´ë‚¨. ê·¸ëƒ¥ ë© ë•Œë¦¬ëŠ” ê±¸ ëª» ê²¬ë”¤. 'ìƒì‚°ì ì¸ íœ´ì‹'ì„ ì¶”êµ¬í•¨.", best: "ISFP", worst: "INFP" },
            "ESFJ": { title: "ì•½ì† ë¶€ì\n'í”„ë¡œ ì°¸ì„ëŸ¬'", icon: "ğŸ“", desc: "ì§‘ì— ìˆê³  ì‹¶ì€ë° ëˆ„ê°€ ë¶€ë¥´ë©´ ê±°ì ˆ ëª» í•˜ê³  ë‚˜ê°. ê°”ë‹¤ ì™€ì„œ 'ì•„ í˜ë“¤ë‹¤' í•˜ê³  ê¸°ì ˆí•¨.", best: "ISTP", worst: "INTP" },
            "ENFJ": { title: "ë°”ì˜ë‹¤ ë°”ë¹  í˜„ëŒ€ì‚¬íšŒ\n'ê°“ìƒ ê¸°íšì'", icon: "ğŸƒ", desc: "ìê¸° ê³„ë°œí•˜ëŠë¼ ë°”ì¨. ë‚¨ë“¤ì´ ê²Œìœ¼ë¥´ê²Œ ì‚¬ëŠ” ê±° ë³´ë©´ ì”ì†Œë¦¬í•˜ê³  ì‹¶ì–´ì„œ ì…ì´ ê·¼ì§ˆê±°ë¦¼.", best: "INFP", worst: "ISTP" },
            "ENTJ": { title: "ê²Œìœ¼ë¦„ì€ ì£„ì•…\n'ì›Œì»¤í™€ë¦­'", icon: "ğŸ”¥", desc: "ì‹œê°„ ë‚­ë¹„í•˜ëŠ” ê±¸ ì œì¼ ì‹«ì–´í•¨. ì‰´ ë•Œë„ ê´€ë ¨ ì„œì  ì½ê±°ë‚˜ ë‰´ìŠ¤ ë´„. ì¹¨ëŒ€ëŠ” ì ì˜ ë•Œë§Œ ì“°ëŠ” ê³³.", best: "INTP", worst: "ISFP" }
        };

        Kakao.init('f68bf1f1c632b1b62c625afe72e43b1d'); 
        
        function updateResult() {
            let type = mbti ? mbti.toUpperCase() : "ENFP"; 
            if(!resultData[type]) type = "ENFP";
            const data = resultData[type];
            
            document.getElementById('resultTitle').innerText = data.title;
            document.getElementById('resultIcon').innerText = data.icon;
            document.getElementById('resultDesc').innerText = data.desc;
            
            document.getElementById('bestMatch').innerText = resultData[data.best].title.split('\n')[1].replace(/'/g, '');
            document.getElementById('worstMatch').innerText = resultData[data.worst].title.split('\n')[1].replace(/'/g, '');
        }

        function shareResult() {
            let type = mbti ? mbti.toUpperCase() : "ENFP";
            const data = resultData[type];
            Kakao.Share.sendDefault({
                objectType: 'feed',
                content: {
                    title: 'ë‚˜ì˜ ê²Œìœ¼ë¦„ ë“±ê¸‰ì€?',
                    description: data.title.replace('\n', ' ') + ' | ' + data.desc.substring(0, 30) + '...',
                    imageUrl: 'https://theduck-lab.com/logo.png', 
                    link: { mobileWebUrl: window.location.href, webUrl: window.location.href },
                },
                buttons: [{ title: 'ê²°ê³¼ ë³´ê¸°', link: { mobileWebUrl: window.location.href, webUrl: window.location.href } }]
            });
        }
        updateResult();
    </script>
</body>
</html>
