<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì°ì¹œ íŒë…ê¸° ê²°ê³¼ | The Duck Lab</title>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9076819245720802" crossorigin="anonymous"></script>
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #f5f5f5; margin: 0; padding: 0; display: flex; justify-content: center; min-height: 100vh; color: #333; }
        .container { width: 100%; max-width: 600px; background: white; min-height: 100vh; padding: 30px 20px; box-sizing: border-box; text-align: center; display: flex; flex-direction: column; align-items: center; }
        .result-subtitle { color: #2E7D32; font-size: 1rem; margin-bottom: 10px; font-weight: bold; }
        .result-title { font-size: 1.8rem; font-weight: 900; margin: 0 0 30px 0; color: #222; word-break: keep-all; }
        .result-box { width: 100%; max-width: 350px; padding: 40px 20px; background-color: #E8F5E9; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .result-icon { font-size: 5rem; margin-bottom: 20px; display: block; }
        .result-desc { background: #f1f8e9; padding: 20px; border-radius: 12px; text-align: left; line-height: 1.6; font-size: 0.95rem; margin-bottom: 30px; width: 100%; box-sizing: border-box; color: #444; border: 1px solid #c8e6c9; }
        .desc-title { font-weight: 800; font-size: 1.1rem; margin-bottom: 10px; display: block; color: #388E3C; }
        
        /* ê¶í•© ë°•ìŠ¤ */
        .match-container { display: flex; gap: 10px; width: 100%; margin-bottom: 30px; }
        .match-box { flex: 1; padding: 15px; border-radius: 12px; text-align: center; }
        .match-good { background-color: #E8F5E9; border: 1px solid #C8E6C9; }
        .match-bad { background-color: #FFEBEE; border: 1px solid #FFCDD2; }
        .match-title { display: block; font-size: 0.8rem; font-weight: bold; margin-bottom: 5px; color: #555; }
        .match-type { font-weight: 900; font-size: 1.1rem; color: #222; }

        .btn-group { width: 100%; display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px; }
        .btn { padding: 18px; border-radius: 12px; font-weight: 800; font-size: 1.1rem; cursor: pointer; border: none; width: 100%; transition: transform 0.1s; }
        .btn:active { transform: scale(0.98); }
        .kakao-btn { background-color: #FEE500; color: #3c1e1e; }
        .retry-btn { background-color: #333; color: white; }
        .home-btn { background-color: white; border: 2px solid #eee; color: #666; }
        .ad-area { width: 100%; background: #fafafa; border: 1px dashed #ddd; padding: 20px; border-radius: 12px; box-sizing: border-box; margin-bottom: 20px; color: #ccc; font-size: 0.8rem; }
    </style>
</head>
<body>
    <div class="container">
        <p class="result-subtitle">ë‚´ ì¹œêµ¬ ìœ í˜•ì€?</p>
        <h1 class="result-title" id="resultTitle">ê²°ê³¼ ë¶„ì„ ì¤‘...</h1>
        <div class="result-box" id="resultBox"><span class="result-icon" id="resultIcon">ğŸ‘¯â€â™€ï¸</span></div>
        <div class="result-desc">
            <span class="desc-title">ğŸŒ± ìš°ì • ìŠ¤íƒ€ì¼</span>
            <p id="resultDesc">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
        </div>

        <div class="match-container">
            <div class="match-box match-good">
                <span class="match-title">ì˜í˜¼ì˜ ë‹¨ì§ ğŸ˜</span>
                <span class="match-type" id="bestMatch">???</span>
            </div>
            <div class="match-box match-bad">
                <span class="match-title">ì†ì ˆ ê°? âœ‚ï¸</span>
                <span class="match-type" id="worstMatch">???</span>
            </div>
        </div>

        <div class="btn-group">
            <button class="btn kakao-btn" onclick="shareResult()">ì¹´ì¹´ì˜¤í†¡ ê³µìœ í•˜ê¸°</button>
            <button class="btn retry-btn" onclick="location.href='friendintro.html'">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œí•˜ê¸°</button>
            <button class="btn home-btn" onclick="location.href='index.html'">ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ë³´ëŸ¬ê°€ê¸°</button>
        </div>
        <div class="ad-area">ğŸ’¸ ê´‘ê³  ì˜ì—­ ğŸ’¸</div>
    </div>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const mbti = urlParams.get('mbti');
        const resultData = {
            "ISTJ": { title: "ì•½ì†ì€ ì¹¼ê°™ì´\n'ì¸ê°„ ì•ŒëŒì‹œê³„'", icon: "âŒš", desc: "ì•½ì† ì‹œê°„ 1ë¶„ë„ ì•ˆ ëŠ¦ìŒ. ì¦‰í¥ì ì¸ ë§Œë‚¨ ì‹«ì–´í•¨. ì˜ë¦¬íŒŒ.", best: "ESFP", worst: "ENFP" },
            "ISFJ": { title: "ì—„ë§ˆ ê°™ì€ ì¹œêµ¬\n'ì±™ê¹€ì´'", icon: "ğŸ±", desc: "ìˆ ìë¦¬ì—ì„œ ë¬¼ ì±™ê²¨ì£¼ëŠ” ì• . ê³ ë¯¼ ìƒë‹´ ì˜ ë“¤ì–´ì¤Œ.", best: "ESFP", worst: "ENTP" },
            "INFJ": { title: "ì†ì´ ê¹Šì€\n'ìƒë‹´ê°€'", icon: "ğŸ§˜", desc: "ì¹œêµ¬ ë§ì§€ ì•ŠìŒ (ì¢ê³  ê¹Šê²Œ). ìš°ìš¸í•´í•˜ë©´ ê°™ì´ ìš°ìš¸í•´ì§.", best: "ENTP", worst: "ESTP" },
            "INTJ": { title: "íŒ©í­ ì¡°ì–¸ëŸ¬\n'ì†”ë¡œëª¬'", icon: "âš–ï¸", desc: "ì§•ì§•ê±°ë¦¬ëŠ” ê±° ì‹«ì–´í•¨. í•´ê²°ì±… ë”± ë‚´ë†“ìŒ.", best: "ENFP", worst: "ESFP" },
            "ISTP": { title: "ì—°ë½ ë‘ì ˆ\n'ë™êµ´ íƒí—˜ê°€'", icon: "â›°ï¸", desc: "í•„ìš”í•  ë•Œë§Œ ì—°ë½í•¨. ì¹´í†¡ ì½ì”¹ ì˜í•¨. ë§Œë‚˜ë©´ ì˜ ë†ˆ.", best: "ESFJ", worst: "ENFJ" },
            "ISFP": { title: "ì°©í•œë° ë‹µë‹µí•œ\n'ìˆœë‘ë¶€'", icon: "ğŸ®", desc: "ê²°ì • ì¥ì•  ìˆìŒ. ì‹¸ìš°ëŠ” ê±° ì‹«ì–´ì„œ ë§¨ë‚  ì ¸ì¤Œ.", best: "ESTJ", worst: "ENTJ" },
            "INFP": { title: "ìœ ë¦¬ ë©˜íƒˆ\n'ê°ì„± ì¹œêµ¬'", icon: "ğŸŒ§ï¸", desc: "ë‹¨í†¡ë°© ë§íˆ¬ í•˜ë‚˜ì— ìƒì²˜ë°›ìŒ. ìœ„ë¡œê°€ ë§ì´ í•„ìš”í•¨.", best: "ENFJ", worst: "ESTJ" },
            "INTP": { title: "ë„ˆ Tì•¼?\n'ë¡œë´‡ ì¹œêµ¬'", icon: "ğŸ¤–", desc: "ì˜í˜¼ ì—†ëŠ” ë¦¬ì•¡ì…˜ ì¥ì¸. ê°ì • ê³µê° ëŠ¥ë ¥ ë¶€ì¡±.", best: "ENTJ", worst: "ESFJ" },
            "ESTP": { title: "ì˜¤ëŠ˜ë§Œ ì‚°ë‹¤\n'íŒŒí‹°ì› ëª¨ì§‘'", icon: "ğŸ‰", desc: "ìˆ ìë¦¬ ê°œê·¼ìƒ. ë…¸ëŠ” ê²Œ ì œì¼ ì¢‹ìŒ. ë²ˆê°œ ëª¨ì„ ì£¼ë™ì.", best: "ISFJ", worst: "INFJ" },
            "ESFP": { title: "ì„¸ìƒ ì‹œë„ëŸ¬ìš´\n'í™•ì„±ê¸°'", icon: "ğŸ“¢", desc: "ì–´ë”œ ê°€ë‚˜ ì£¼ëª©ë°›ì•„ì•¼ í•¨. ë¹„ë°€ ì–˜ê¸°í•˜ë©´ ì˜¨ ë™ë„¤ ì†Œë¬¸ë‚¨.", best: "ISTJ", worst: "INTJ" },
            "ENFP": { title: "í…ì…˜ í­ë°œ\n'ë¹„ê¸€ë¯¸'", icon: "ğŸ¶", desc: "ê°€ë§Œíˆ ìˆì§€ë¥¼ ëª»í•¨. ì¹œêµ¬ë¥¼ ë„ˆë¬´ ì¢‹ì•„í•´ì„œ ì§‘ì°©í•  ìˆ˜ë„.", best: "INTJ", worst: "ISTJ" },
            "ENTP": { title: "ì¥ë‚œê¸° ë§Œë ™\n'ì•…ë™'", icon: "ğŸ¤¡", desc: "ì¹œêµ¬ ë†€ë¦¬ëŠ” ë§›ì— ì‚¼. ë’¤ëì€ ì—†ìŒ.", best: "INFJ", worst: "ISFJ" },
            "ESTJ": { title: "ì´ë¬´ ë‹´ë‹¹\n'ë¦¬ë”'", icon: "ğŸ’³", desc: "ëª¨ì„ íšŒë¹„, ì¥ì†Œ ë‹¤ ì •í•´ì¤Œ. ì¹œêµ¬ë“¤ í›ˆìˆ˜ ë‘ëŠ” ê±° ì¢‹ì•„í•¨.", best: "ISFP", worst: "INFP" },
            "ESFJ": { title: "ì˜¤ì§€ë– íƒœí‰ì–‘\n'í•™ë¶€ëª¨ íšŒì¥'", icon: "ğŸ¤—", desc: "ì¹œêµ¬ ì¼ì´ë©´ ë°œ ë²—ê³  ë‚˜ì„¬. ì¹­ì°¬ ì•ˆ í•´ì£¼ë©´ ì‚ì§.", best: "ISTP", worst: "INTP" },
            "ENFJ": { title: "í‰í™”ì£¼ì˜ì\n'ì„±ì¸êµ°ì'", icon: "ğŸ•Šï¸", desc: "ì‹¸ì›€ ë‚˜ë©´ ì¤‘ì¬í•¨. ë°°ì‹  ë‹¹í•˜ë©´ ìƒì²˜ í¬ê²Œ ë°›ìŒ.", best: "INFP", worst: "ISTP" },
            "ENTJ": { title: "ì„±ê³µí•˜ì ì¹œêµ¬ì•¼\n'ì•¼ë§ìº'", icon: "ğŸš€", desc: "ìƒì‚°ì ì¸ ëŒ€í™” ì¢‹ì•„í•¨. ë©ì²­í•œ í–‰ë™ í•˜ë©´ íŒ©í­ ë‚ ë¦¼.", best: "INTP", worst: "ISFP" }
        };
        Kakao.init('f68bf1f1c632b1b62c625afe72e43b1d'); 
        function updateResult() {
            let type = mbti ? mbti.toUpperCase() : "ESFP"; 
            if(!resultData[type]) type = "ESFP";
            const data = resultData[type];
            document.getElementById('resultTitle').innerText = data.title;
            document.getElementById('resultIcon').innerText = data.icon;
            document.getElementById('resultDesc').innerText = data.desc;
            document.getElementById('bestMatch').innerText = data.best;
            document.getElementById('worstMatch').innerText = data.worst;
        }
        function shareResult() {
            let type = mbti ? mbti.toUpperCase() : "ESFP";
            const data = resultData[type];
            Kakao.Share.sendDefault({
                objectType: 'feed',
                content: {
                    title: 'ë‚˜ì˜ ì°ì¹œ ìœ í˜•ì€?',
                    description: data.title.replace('\n', ' ') + ' | ì˜í˜¼ì˜ ë‹¨ì§: ' + data.best,
                    imageUrl: 'https://theduck-lab.com/logo.png', 
                    link: { mobileWebUrl: window.location.href, webUrl: window.location.href },
                },
                buttons: [{ title: 'ê²°ê³¼ ë³´ê¸°', link: { mobileWebUrl: window.location.href, webUrl: window.location.href } }]
            });
        }
        updateResult();
    </script>
</body>
</html>
