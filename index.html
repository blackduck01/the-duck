<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Duck Personality Test</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Global Reset & Font */
        body { margin: 0; padding: 0; font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif; background-color: #fff9c4; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        
        /* Container Layout */
        #root { width: 100%; max-width: 420px; padding: 20px; }
        .app-container { background: white; padding: 30px; border-radius: 24px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; border: 2px solid #fbc02d; transition: all 0.3s ease; }
        
        /* Typography */
        h1 { color: #333; font-size: 22px; font-weight: 800; margin-bottom: 12px; line-height: 1.4; }
        p { color: #666; font-size: 15px; margin-bottom: 24px; line-height: 1.6; }
        
        /* UI Components */
        .duck-icon { font-size: 64px; margin: 20px 0; animation: bounce 2s infinite; }
        .btn { width: 100%; padding: 16px; margin: 8px 0; border: none; border-radius: 12px; background-color: #fdd835; color: #333; font-size: 16px; font-weight: 700; cursor: pointer; transition: transform 0.1s, background-color 0.2s; }
        .btn:active { transform: scale(0.98); }
        .btn:hover { background-color: #fbc02d; }
        
        /* Progress Bar */
        .progress-container { width: 100%; background-color: #f0f0f0; border-radius: 8px; height: 8px; margin-bottom: 30px; overflow: hidden; }
        .progress-fill { height: 100%; background-color: #f9a825; transition: width 0.4s ease; }

        /* Animations */
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // [DATA] ì§ˆë¬¸ ë° ê²°ê³¼ ë°ì´í„° ì •ì˜
        const QUESTIONS = [
            { id: 1, q: "ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ íŒ€ì— ë°°ì •ë˜ì—ˆë‹¤. ë‚˜ì˜ ì²« í–‰ë™ì€?", a: "íŒ€ì›ë“¤ì—ê²Œ ë¨¼ì € ë‹¤ê°€ê°€ ë°ê²Œ ì¸ì‚¬ë¥¼ ê±´ë„¨ë‹¤.", b: "ì¡°ìš©íˆ ë‚´ ìë¦¬ë¥¼ íŒŒì•…í•˜ê³  ì—…ë¬´ ìë£Œë¥¼ ê²€í† í•œë‹¤.", type: "EI" },
            { id: 2, q: "ë™ë£Œê°€ ì—…ë¬´ ì‹¤ìˆ˜ë¡œ í¬ê²Œ ìƒì‹¬í•´ ìˆë‹¤.", a: "ê´œì°®ì•„! ìˆ  í•œì”í•˜ë©´ì„œ í„¸ì–´ë²„ë¦¬ì! (ì •ì„œì  ì§€ì§€)", b: "ì–´ë–¤ ë¶€ë¶„ì—ì„œ ë¬¸ì œê°€ ìƒê²¼ì–´? ê°™ì´ í•´ê²°ì±…ì„ ì°¾ì. (í˜„ì‹¤ì  ì¡°ì–¸)", type: "TF" },
            { id: 3, q: "ë‹¤ìŒ ì£¼ ì›Œí¬ìƒµ ì¼ì •ì„ ê¸°íší•´ì•¼ í•œë‹¤.", a: "ì‹œê°„ëŒ€ë³„ ì´ë™ ê²½ë¡œì™€ ì˜ˆì‚°ì„ ì—‘ì…€ë¡œ ì •ë¦¬í•œë‹¤.", b: "í° í‹€ë§Œ ì¡ê³  ìƒí™©ì— ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ì›€ì§ì¸ë‹¤.", type: "JP" }
        ];

        // [COMPONENT] ë©”ì¸ ì–´í”Œë¦¬ì¼€ì´ì…˜
        function App() {
            const [step, setStep] = useState(0); // 0: Start, 1~N: Question, N+1: Result
            const [scores, setScores] = useState({ E: 0, I: 0, T: 0, F: 0, J: 0, P: 0 });

            // í•¸ë“¤ëŸ¬: ë‹µë³€ ì„ íƒ ì‹œ ì ìˆ˜ ê³„ì‚° ë° ë‹¤ìŒ ë‹¨ê³„ ì´ë™
            const handleAnswer = (type, choiceIndex) => {
                const targetType = choiceIndex === 0 ? type[0] : type[1]; // Aì„ íƒì‹œ ì•ê¸€ì, Bì„ íƒì‹œ ë’·ê¸€ì
                setScores(prev => ({ ...prev, [targetType]: prev[targetType] + 1 }));
                setStep(prev => prev + 1);
            };

            // í•¸ë“¤ëŸ¬: í…ŒìŠ¤íŠ¸ ë¦¬ì…‹
            const resetTest = () => {
                setStep(0);
                setScores({ E: 0, I: 0, T: 0, F: 0, J: 0, P: 0 });
            };

            // ë Œë”ë§: ë‹¨ê³„(Step)ì— ë”°ë¥¸ í™”ë©´ ë¶„ê¸°
            return (
                <div className="app-container fade-in">
                    {step === 0 && <StartScreen onStart={() => setStep(1)} />}
                    {step >= 1 && step <= QUESTIONS.length && (
                        <QuestionScreen 
                            data={QUESTIONS[step - 1]} 
                            currentStep={step} 
                            totalSteps={QUESTIONS.length} 
                            onAnswer={handleAnswer} 
                        />
                    )}
                    {step > QUESTIONS.length && <ResultScreen scores={scores} onReset={resetTest} />}
                </div>
            );
        }

        // [SUB-COMPONENT] ì‹œì‘ í™”ë©´
        function StartScreen({ onStart }) {
            return (
                <div>
                    <h1>ğŸ¦ The Duck<br/>ì§ì¥ì¸ ìƒì¡´ ìœ í˜• ë¶„ì„</h1>
                    <div className="duck-icon">ğŸ¦†</div>
                    <p>ì •ê¸€ ê°™ì€ ì˜¤í”¼ìŠ¤ ë¼ì´í”„,<br/>ë‚˜ëŠ” ì–´ë–¤ ìƒì¡´ ì „ëµì„ ê°€ì§„ ì˜¤ë¦¬ì¼ê¹Œ?</p>
                    <button className="btn" onClick={onStart}>í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
                </div>
            );
        }

        // [SUB-COMPONENT] ì§ˆë¬¸ í™”ë©´
        function QuestionScreen({ data, currentStep, totalSteps, onAnswer }) {
            const progress = ((currentStep / totalSteps) * 100) + "%";
            
            return (
                <div>
                    <div className="progress-container">
                        <div className="progress-fill" style={{ width: progress }}></div>
                    </div>
                    <div className="duck-icon">ğŸ¤”</div>
                    <h2>Q{currentStep}.</h2>
                    <p style={{ fontSize: '18px', fontWeight: 'bold', color: '#333' }}>{data.q}</p>
                    <button className="btn" onClick={() => onAnswer(data.type, 0)}>{data.a}</button>
                    <button className="btn" onClick={() => onAnswer(data.type, 1)}>{data.b}</button>
                </div>
            );
        }

        // [SUB-COMPONENT] ê²°ê³¼ í™”ë©´
        function ResultScreen({ scores, onReset }) {
            // ê²°ê³¼ ë„ì¶œ ë¡œì§ (Simple Logic)
            const resultType = scores.E > scores.I ? "ì—´ì •ì ì¸ ë¶ˆê½ƒì˜¤ë¦¬ ğŸ”¥" : "ì‹ ì¤‘í•œ ì„ ë¹„ì˜¤ë¦¬ ğŸŒ²";
            const description = scores.E > scores.I 
                ? "ë‹¹ì‹ ì€ ì¡°ì§ì˜ ë¶„ìœ„ê¸° ë©”ì´ì»¤ì…ë‹ˆë‹¤. ë›°ì–´ë‚œ ì†Œí†µ ëŠ¥ë ¥ìœ¼ë¡œ íŒ€ì˜ ì—ë„ˆì§€ë¥¼ ì±…ì„ì§€ë„¤ìš”!" 
                : "ë‹¹ì‹ ì€ ë¬µë¬µíˆ ì„±ê³¼ë¥¼ ë‚´ëŠ” ìˆ¨ì€ ì—ì´ìŠ¤ì…ë‹ˆë‹¤. ê¹Šì´ ìˆëŠ” í†µì°°ë ¥ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë„¤ìš”!";

            return (
                <div className="fade-in">
                    <h1>ë¶„ì„ ê²°ê³¼</h1>
                    <div className="duck-icon">ğŸ‘‘</div>
                    <h2 style={{ color: '#f57f17' }}>{resultType}</h2>
                    <p>{description}</p>
                    <button className="btn" onClick={onReset}>í…ŒìŠ¤íŠ¸ ë‹¤ì‹œ í•˜ê¸°</button>
                </div>
            );
        }

        // DOM ë Œë”ë§
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
